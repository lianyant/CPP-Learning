# 条件运算符和switch语句

## 1.条件运算符

​	条件运算符（也称为三元运算符）在C和C++中是唯一的三元运算符，具有以下形式：

```cpp
condition ? expression1 : expression2;
```

​	这个运算符首先计算 `condition`（一个布尔表达式）。如果 `condition` 为 `true`（非零），则运算符的结果是 `expression1` 的值；如果 `condition` 为 `false`（零），则结果是 `expression2` 的值。因此，条件运算符提供了一种简洁的方式来写出简单的条件表达式，而不是使用更长的 `if-else` 语句。

### 定义

​	条件运算符是一个表达式，允许基于一个布尔表达式的真假值来选择两个值中的一个。其语法如下：

```cpp
condition ? expression1 : expression2
```

- `condition` 是一个返回布尔值的表达式。
- `expression1` 和 `expression2` 是两个值或表达式，其中 `expression1` 在 `condition` 为真时被求值和返回，`expression2` 在 `condition` 为假时被求值和返回。

### 例子

**例1：使用条件运算符进行简单条件赋值**

```cpp
int a = 5, b = 10;
int max = (a > b) ? a : b;
printf("The maximum value is %d\n", max);
```

​	这个例子中，条件运算符用于比较 `a` 和 `b` 的值，选择并返回两者中的最大值，并将其赋值给 `max` 变量。如果 `a` 大于 `b`，`max` 将被赋值为 `a` 的值；否则，`max` 被赋值为 `b` 的值。

**例2：嵌套条件运算符**

```cpp
int a = 10, b = 20, c = 15;
int largest = (a > b) ? (a > c ? a : c) : (b > c ? b : c);
printf("The largest value is %d\n", largest);
```

​	这个例子中，条件运算符被嵌套使用来找出三个数 `a`、`b`、和 `c` 中的最大值。首先比较 `a` 和 `b`，然后根据结果比较 `a` 和 `c` 或 `b` 和 `c`，最后返回三个数中的最大值。

​	条件运算符提供了一种非常紧凑的方式来执行简单的条件赋值和决策，但是为了保持代码的可读性，应当避免嵌套使用太多条件运算符。

## 2.switch语句

### Switch语句的定义

​	`switch` 语句是一种控制结构，用于基于变量或表达式的值选择执行多个代码分支中的一个。它是一种多路分支语句，允许一个程序评估一个表达式并尝试将其值与多个可能的常量值匹配。每个值的代码块称为一个“案例”（case），并且程序会执行与表达式值匹配的第一个案例的代码块。

`switch` 语句的基本语法如下：

```c
switch (expression) {
    case constant1:
        // 代码块
        break;
    case constant2:
        // 代码块
        break;
    // 更多的案例...
    default:
        // 默认的代码块
}
```

- `expression` 是与案例值进行比较的表达式。
- `case` 关键字后跟一个在该分支中匹配的常量值。
- `break` 语句用于防止代码自动从当前案例继续执行到下一个案例。
- `default` 关键字是可选的，用于处理没有任何其他案例匹配时的情况。

### Switch语句与If语句的对比

- **结构清晰度**：`switch` 语句在处理一个变量或表达式与多个常量值进行比较的情况下，可以提供比 `if-else` 语句更清晰和更易于理解的结构。
- **执行效率**：对于大量的分支，`switch` 语句通常比等效的 `if-else` 语句更高效，因为 `switch` 语句的实现可能使用跳转表，这使得跳转到匹配的 `case` 更快。
- **用途限制**：`switch` 只能对整数、字符型数据以及枚举类型进行比较，而 `if-else` 可以用于比较任何类型的数据，包括字符串、布尔值等，且条件可以更加复杂多样。if语句一般用途是针对两个分支的比较和选择，而switch语句一般用于处理多分支选择。当然，多分支选择可以使用if else if… else if…语句来实现，但这种连续使用多个else if...实现的 多分支选择，可读性不如switch语句好。

### 何时使用Switch语句更好

- **处理枚举类型**：当需要根据枚举类型的值来执行不同的代码段时，`switch` 语句是一个理想的选择。
- **单一变量的多值比较**：当有一个变量需要与多个值进行比较，并且每个值对应不同的处理逻辑时，使用 `switch` 语句可以使代码更加清晰和简洁。switch后面表达式的值(expression)若满足（等于）任何 某个case后面的常量表达式值，则执行该case后面的1行或多行语句，直到遇到break语句停止，然后跳出整个switch语句并继续switch后面语句的执行，如果所有case条件都不满足，则会执行default中包含的1行或多行语句(如果有default的话)，然后跳出整个switch语句。
- **菜单选择**：在实现用户菜单或其他形式的多选项选择时，`switch` 语句提供了一种方便的方式来处理每个选择。

​	总的来说，当你的决策逻辑是基于单一变量或表达式的多个离散值时，使用 `switch` 语句通常比 `if-else` 语句更为合适，因为它提供了更清晰的逻辑结构并且可能更高效。然而，如果条件判断更复杂或者需要比较的类型不是 `switch` 语句支持的类型，那么 `if-else` 语句可能是更好的选择。